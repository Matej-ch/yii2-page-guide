"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}document.addEventListener("DOMContentLoaded",function(){function a(){var a=new URLSearchParams(window.location.search),b=a.get("guideCreator");if(b)if(console.log(window),console.log(window.guideSelectors),window.guideSelectors)console.log(window.guideSelectors),console.log(_typeof(window.guideSelectors));else{var c=document.querySelectorAll("input:not([type=hidden])");if(c&&c.forEach(function(a){a.setAttribute("draggable","true"),a.classList.add("draggable")}),document.querySelector("form")){var d=document.querySelectorAll(".form-group");d&&d.forEach(function(a){a.setAttribute("draggable","true"),a.classList.add("draggable")})}}}function b(){var a=introJs();a.setOptions({steps:window.guideRules||[]}),a.setOption("prevLabel",window.guideLabels.prevLabel||"Prev"),a.setOption("nextLabel",window.guideLabels.nextLabel||"Next"),a.setOption("skipLabel",window.guideLabels.skipLabel||"Skip"),a.setOption("doneLabel",window.guideLabels.doneLabel||"Done"),a.start()}function c(a){a.dataTransfer.setData("id",a.target.id),a.target.style.backgroundColor="#8db3f2"}function d(){var a=document.querySelectorAll(".js-rule-container").length,b=document.getElementById("element-input-template").content.cloneNode(!0);b.querySelector(".js-step").name="PageGuide[rules]["+a+"][step]",b.querySelector(".js-step").value=a+1,b.querySelector(".js-element").name="PageGuide[rules]["+a+"][element]",b.querySelector(".js-intro").name="PageGuide[rules]["+a+"][intro]",document.getElementById("js-el-container").appendChild(b)}function e(a){var b=a.dataTransfer.getData("id"),c=a.target;c.parentElement.querySelector(".js-element").value="#"+b,d()}a(),document.querySelector("body").addEventListener("click",function(a){"js-intro-guide"===a.target.id&&(a.preventDefault(),b())}),document.addEventListener("dragstart",function(a){a.target;c(a)},!1),document.addEventListener("dragend",function(a){a.target.style.backgroundColor=""},!1),document.querySelector("body").addEventListener("click",function(a){if("js-goto-page"===a.target.id&&(a.preventDefault(),document.getElementById("js-url-input")&&""!==document.getElementById("js-url-input").value)){var b=new URL(document.getElementById("js-url-input").value);Array.from(b.searchParams).length?window.open(document.getElementById("js-url-input").value+"&guideCreator=1","_blank"):window.open(document.getElementById("js-url-input").value+"?guideCreator=1","_blank")}}),document.querySelector("body").addEventListener("input",function(a){"js-url-input"===a.target.id&&(document.querySelector(".js-url-form-input").value=a.target.value)}),document.addEventListener("dragover",function(a){a.preventDefault()},!1),document.addEventListener("dragenter",function(a){a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="#e83b3b")},!1),document.addEventListener("dragleave",function(a){a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="")},!1),document.addEventListener("drop",function(a){a.preventDefault(),a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="",e(a))},!1)});
