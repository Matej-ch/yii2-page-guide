"use strict";function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f=[],g=!0,h=!1;try{for(c=c.call(a);!(g=(d=c.next()).done)&&(f.push(d.value),!(b&&f.length===b));g=!0);}catch(a){h=!0,e=a}finally{try{g||null==c["return"]||c["return"]()}finally{if(h)throw e}}return f}}function _arrayWithHoles(a){if(Array.isArray(a))return a}document.addEventListener("DOMContentLoaded",function(){function a(){var a=introJs();a.setOptions({steps:window.guideRules||[]}),a.setOption("prevLabel",window.guideLabels.prevLabel||"Prev"),a.setOption("nextLabel",window.guideLabels.nextLabel||"Next"),a.setOption("skipLabel",window.guideLabels.skipLabel||"Skip"),a.setOption("doneLabel",window.guideLabels.doneLabel||"Done"),a.start()}function b(a){if(a.target.id.length)a.dataTransfer.setData("selector","#".concat(a.target.id));else{var b=a.target.classList,c="";b.forEach(function(a){"draggable"!==a&&(c+=".".concat(a))}),a.dataTransfer.setData("selector",c)}a.target.style.backgroundColor="#8db3f2"}function c(){var a=document.querySelectorAll(".js-rule-container").length,b=document.getElementById("element-input-template").content.cloneNode(!0);b.querySelector(".js-step").name="PageGuide[rules]["+a+"][step]",b.querySelector(".js-step").value=a+1,b.querySelector(".js-element").name="PageGuide[rules]["+a+"][element]",b.querySelector(".js-intro").name="PageGuide[rules]["+a+"][intro]",document.getElementById("js-el-container").appendChild(b)}function d(a){var b=a.dataTransfer.getData("selector"),d=a.target;d.parentElement.querySelector(".js-element").value=b,c()}(function(){var a=new URLSearchParams(window.location.search),b=a.get("guideCreator");if(b)if(window.guideSelectors)for(var c=window.guideSelectors,d=0,e=Object.entries(c);d<e.length;d++){var f=_slicedToArray(e[d],2),g=f[0],h=f[1],i=document.querySelectorAll("".concat(h));i&&i.forEach(function(a){a.setAttribute("draggable","true"),a.classList.add("draggable")})}else{var j=document.querySelectorAll("input:not([type=hidden])");if(j&&j.forEach(function(a){a.setAttribute("draggable","true"),a.classList.add("draggable")}),document.querySelector("form")){var k=document.querySelectorAll(".form-group");k&&k.forEach(function(a){a.setAttribute("draggable","true"),a.classList.add("draggable")})}}})(),document.querySelector("body").addEventListener("click",function(b){"js-intro-guide"===b.target.id&&(b.preventDefault(),a())}),document.addEventListener("dragstart",function(a){a.target;b(a)},!1),document.addEventListener("dragend",function(a){a.target.style.backgroundColor=""},!1),document.querySelector("body").addEventListener("click",function(a){if("js-goto-page"===a.target.id&&(a.preventDefault(),document.getElementById("js-url-input")&&""!==document.getElementById("js-url-input").value)){var b=new URL(document.getElementById("js-url-input").value);Array.from(b.searchParams).length?window.open(document.getElementById("js-url-input").value+"&guideCreator=1","_blank"):window.open(document.getElementById("js-url-input").value+"?guideCreator=1","_blank")}}),document.querySelector("body").addEventListener("input",function(a){"js-url-input"===a.target.id&&(document.querySelector(".js-url-form-input").value=a.target.value)}),document.addEventListener("dragover",function(a){a.preventDefault()},!1),document.addEventListener("dragenter",function(a){a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="#e83b3b")},!1),document.addEventListener("dragleave",function(a){a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="")},!1),document.addEventListener("drop",function(a){a.preventDefault(),a.target.classList&&a.target.classList.contains("js-dragzone")&&(a.target.style.background="",d(a))},!1)});
